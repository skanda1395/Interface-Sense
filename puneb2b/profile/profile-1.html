<!DOCTYPE html>
<html lang="zxx">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="icon" href="images/favicon.png">
	<title>My Profile</title>

	<link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/ionicons.min.css">
	<!-- <link rel="stylesheet" hsref="css/fakeLoader.css"> -->
	<link rel="stylesheet" href="css/swiper.min.css">
	<!-- Bootstrap CDN -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<!-- jQuery CDN -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<!-- Font Awesome CDN -->
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="override.css">
	<!--vue script-->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

</head>

<body>

	<!-- fakeloader -->
	<div class="fakeLoader"></div>
	<!-- end fakeloader -->

	<!-- navbar -->
	<div class="navbar">
		<div class="left">
			<a href="" class="link link-back"><i class="icon ion-ios-arrow-back"></i></a>
		</div>
		<div class="title">
			Profile
		</div>
		<div class="right">
			<a href="edit-profile.html"><i class="fas fa-pen"></i></a>
		</div>
	</div>
	<!-- end navbar -->

	<!-- pages wrapper -->
	<div class="pages-wrapper">

		<!-- separator -->
		<div class="separator-small"></div>
		<!-- end separator -->

		<!-- profile -->
		<div class="profile">
			<div>
				<img src="images/girl-slay.jpg" class="rounded-circle image-prof" alt="">
			</div>
			<div class="form-fill container">
				<div class="row">
					<div class="col-5 add-det">Personal Details</div>
					<div class="col-7">
						<hr>
					</div>
				</div>

				<!-- Form starts -->
				<!-- <form> -->
				<p class="first-p">&nbsp;</p>
				<div class="input-container">
					<i class="fas fa-user"></i>
					<span class="inp  inp-profile" id="fulln"></span>
					<!--<input type="text" class="inp  inp-profile" placeholder="Add Name" v-model="firstName" readonly>-->
				</div>

				<p class="forth-p">&nbsp;</p>
				<div class="input-container">
					<i class="fas fa-phone-alt"></i>
					<input type="tel" class="inp  inp-profile" placeholder="Add Phone No" pattern="[0-9]{10}"
						title="Phone number should be 10 digit long" v-model="number">
				</div>

				<p class="sec-p">&nbsp;</p>
				<div class="input-container">
					<i class="far fa-envelope"></i>
					<input type="email" class=" inp   inp-profile" placeholder="Add Email" v-model="email">
					<i class="fas fa-times-circle"></i>
				</div>
				<!-- </form> -->
				<div class="row">
					<div class="col-5 add-det">Personal Address</div>
					<div class="col-7">
						<hr>
					</div>
				</div>
				<p class="first-p">&nbsp;</p>
				<div class="input-container">
					<i class="fas fa-map-marker-alt"></i>
					<input type="text" class="inp inp-profile" placeholder="Add Address" >
				</div>
				<div class="row">
					<div class="col-4 add-det">Work Details</div>
					<div class="col-8">
						<hr>
					</div>
				</div>
				<p class="first-p">&nbsp;</p>
				<div class="input-container">
					<i class="fas fa-briefcase"></i>
					<input type="text" class="inp  inp-profile" placeholder="Add your firm name" v-model="fname">
				</div>
				<p class="first-p">&nbsp;</p>
				<div class="input-container">
					<i class="fas fa-map-marker-alt"></i>
					<input type="text" class="inp  inp-profile" placeholder="Add Firm Address" v-model="fadress">
				</div>
				<input  style="padding-left: 9px;"type="text" class="inp  inp-profile" placeholder="Add secondary Firm Address" v-model="adress">
				<!--<input  style="padding-left: 11px;"type="text" class="inp  inp-profile" placeholder="Add City" v-model="city">-->
				<p style="padding-left: 19px ;color: #28519E; margin: 0em; font-size: 14px; font-weight: 400;" class="inp  inp-profile" id="citys"></p>
				<input  style="padding-left: 9px;"type="text" class="inp  inp-profile" placeholder="Add State" v-model="state">
				<input  style="padding-left: 9px;"type="text" class="inp  inp-profile" placeholder="Add State" v-model="country">
			</div>
		</div>
		<!-- end profile -->

	</div>
	<!-- end pages wrapper -->

	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script src="js/fakeLoader.js"></script>
	<script src="js/swiper.min.js"></script>
	<script src="js/main.js"></script>
	<script src="script.js"></script>

	<script>
		new Vue({
		  el: ".profile",
		  data: {
			firstName: "...",
			lastName: "...",
			number: "...",
			email: "...",
			adress:"...",
			fname:"...",
			fadress:"...",
			city:"...",
			state:"...",
			country:"...",
			users: [],
			i: 0
		  },
		  methods: {
			getData() {
			  fetch("http://164.52.195.248:8062/members")
				.then(response => {
				  if (!response.ok) {
					throw new Error("Network response was not ok");
				  }
				  return response.json();
				})
				.then(data => {
				  this.users = data;
				  this.anotherUser(this.i);
				})
				.catch(error => {
				  console.error(
					"There has been a problem with your fetch operation:",
					error
				  );
				});
			},
			anotherUser() {
			  this.firstName = this.users[this.i].firstName;
			  this.lastName = this.users[this.i].lastName;
			  this.email= this.users[this.i].emailId;
			  this.number = this.users[this.i].mobileNo;
			  this.adress = this.users[this.i].businessAddressLine2;
			  this.fadress = this.users[this.i].businessAddressLine1;
			  this.fname = this.users[this.i].firmName;
			  this.city  =this.users[this.i].city;
			  this.zipCode=this.users[this.i].zipCode;
			  this.state=this.users[this.i].state.value;
			  this.country=this.users[this.i].country.value;
			  this.i++;
			  $('#fulln').append(this.firstName+' '+this.lastName);
			  $('#citys').append(this.city+' - '+this.zipCode)
			  
			},
			updateUser() {
			  const userData = this.users[this.i - 1];
			  userData.firstName = this.firstName;
			  userData.lastName = this.lastName;
			  userData.email = this.email;
			  userData.mobileNo = this.number;
			  userData.businessAddressLine2 = this.adress;
			  userData.businessAddressLine1 = this.fadress;
			  userData.firmName = this.fname;
			  userData.city = this.city;
			  userData.zipCode=this.zipCode;
			  //console.log(userData.fadress);
  
			  fetch('http://164.52.195.248:8062/members', {
				method: 'PUT', // or 'PUT'
				headers: {
				  'Content-Type': 'application/json',
				},
				body: JSON.stringify(userData),
			  })
			  .then(response => response.json())
			  .then(data => {
				console.log('Success:', data);
			  })
			  .catch((error) => {
				console.error('Error:', error);
			  });
			}
		  },
		  mounted: function() {
			this.getData();
		  }
		});
	  </script>
</body>

</html>